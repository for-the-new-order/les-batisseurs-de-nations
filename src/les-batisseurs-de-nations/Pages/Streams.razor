@page "/streams"

@{ 
    var streamsList = new HashSet<StreamInfo>();
    streamsList.Add(new()
    {
        EpisodeNumber = 1,
        StartDate = new DateTime(2021, 07, 09, 20, 0, 0),
        EndDate = new DateTime(2021, 07, 09, 23, 0, 0),
        Streamer = Streamer.OnStartTuCa,
        Title = "Ouverture du Westmarch des terres perdues",
        YouTubeEmbededUri = "https://www.youtube.com/embed/yt4xTDlBOQs",
        DiscordLink = "https://discord.com/channels/662746189069942802/859589836225511424/860272989106339850",
        EpisodeEntryLink = "/journals/season1/episode1",
    });
    streamsList.Add(new()
    {
        EpisodeNumber = 9,
        StartDate = new DateTime(2021, 07, 28, 19, 30, 0),
        EndDate = new DateTime(2021, 07, 28, 22, 30, 0),
        Streamer = Streamer.Puppo,
        // Title = "",
        // YouTubeEmbededUri = "",
        DiscordLink = "https://discord.com/channels/662746189069942802/859589836225511424/860273039534719047",
    });
}

<Timeline Mode="alternate" Reverse="true">
    @foreach (var stream in streamsList)
    {
        if (stream.State == StreamState.Future)
        {
            <TimelineItem Dot="futureIcon">
                <StreamCard Info="stream" />
            </TimelineItem>
        }
        else
        {
            <TimelineItem Dot="playIcon">
                <StreamCard Info="stream" />
            </TimelineItem>
        }
    }
</Timeline>

@code {
    RenderFragment playIcon =
    @<Template>
        <Icon Type="play-circle" Style="font-size: 16px;" />
    </Template>;
RenderFragment futureIcon =
@<Template>
    <Icon Type="play-circle" Spin Style="font-size: 16px;" />
</Template>;
}

